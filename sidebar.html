<html><head>


     <meta charset="utf-8">
     <link rel="stylesheet" href="https://ssl.gstatic.com/docs/script/css/add-ons.css">
     <link href="https://fonts.googleapis.com/css?family=Roboto:400,700" rel="stylesheet">
     <style type="text/css">
        body {
          font-family: 'Roboto', sans-serif;
        }
        .top-logo {margin-bottom:50px;}
     </style>

</head>
<body bgcolor="#44546D">
      <div class="sidebar">
         <form name="customerCredentials" id="customerCredentials">
           <div class="block form-group">
              <span style="color:white"><b>OCLC API Key</b></span>
              <br>
              <input type="text" id="apiKey" name="apiKey" placeholder="api key (required)" value=""/>
              <br>
              <span style="color:white"><b>OCLC API secret</b></span>
              <br>
              <input type="text" id="apiSecret" name="apiSecret" placeholder="api secret (required)" value=""/>
              <br>               
           </div>
           
           <br>
           
         <div class="block form-group">
              <input type="button" class="action" value="Save Credentials" onclick="saveCredentials()" />
         </div>
         <br>         
         
         </form>
         <br>
     </div>
     
     
     
    <!-- Load the jQuery library from the Google CDN -->
    <script src="//ajax.googleapis.com/ajax/libs/jquery/1.10.1/jquery.min.js"></script>
    
    
    <script>
    function saveCredentials() {
      google.script.run.saveCredentials(document.getElementById('customerCredentials'));
    }    
    </script>



    <script>
    
        // The code in this function runs when the page is loaded.
        // getTabs is a server side function in Code.gs
        $(function() {
           google.script.run.withSuccessHandler(setKey).getStoredAPIKey();
        });
        
        function setKey(apiKey, apiSecret){
          if (apiKey == null  || apiKey === undefined) apiKey = "";
          document.getElementById('apiKey').value=apiKey;
          if (apiSecret == null  || apiSecret === undefined) apiSecret = "";
          document.getElementById('apiSecret').value=apiSecret;
        }
        
    </script>
    
  </body>
</html>